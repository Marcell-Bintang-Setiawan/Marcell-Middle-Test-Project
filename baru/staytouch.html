<!doctype html>
<html lang="en">
    <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">

    <title>Keep Touch</title>
    </head>

    <body style="background-color: black; background: url(Best-Animated-Movies-of-All-Time-Featured-StudioBinder.jpg.jpg) no-repeat; background-size: cover;">
            <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
                <div class="container">
                    <a class="navbar-brand" href="#" style="font-family:century gothic;"> <b><i> Movies Go </i></b></a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                    <div class="navbar-nav">
                        <a class="nav-item nav-link" href="index.html">Cari Film </a>
                        <a class="nav-item nav-link" href="about.html"> About </a>
                        <a class="nav-item nav-link active" href="about.html"> Keep Touch </a>
                        <a class="nav-item nav-link" href="login.php"> Masuk </a>
                        <a class="nav-item nav-link"href="registrasi.php"> Daftar </a>
                    </div>
                    </div>
                </div>
            </nav>   
            
            <div class="container">
                <div class="row text-center mt-3">
                    <div class="col">
                        <h2 class="text-light">Kirim Ide Kreatif Anda </h2>
                    </div>
                </div>
                <div class="row justify-content-center">
                    <div class="col-md-7">

                        <div class="alert alert-success alert-dismissible fade show d-none my-alert" role="alert">
                            <strong>Terima Kasih</strong> ide - ide Kreatif Anda Sudah Kami Terima! 
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </div>

                        <form name="stay-touch">
                            <div class="mb-3">
                                <label for="name" class="form-label text-light"> <strong> Nama Lengkap </strong></label>
                                <input type="text" name="nama" id="name" class="form-control" aria-describedby="name">
                            </div>
                            <div class="mb-3">
                                <label for="email" class="form-label text-light"> <strong> Email</strong></label>
                                <input type="email" name="email" id="email" class="form-control " aria-describedby="email">
                            </div>
                            <div class="mb-3">
                                <label for="pesan" class="form-label text-light"> <strong> Pesan Anda </strong></label>
                                <textarea name="pesan" id="pesan" rows="6"  class="form-control "></textarea>
                            </div>

                            <button type="submit" class="btn btn-primary btn-kirim">Kirim</button>

                            <button class="btn btn-primary btn-loading d-none" type="button" disabled>
                                <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                                Loading...
                            </button>

                        </form> 
                    </div>
                </div>
                        
            </div>
            



        

        <!-- Optional JavaScript; choose one of the two! -->

        <!-- Option 1: Bootstrap Bundle with Popper -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>

        <!-- Option 2: Separate Popper and Bootstrap JS -->
        <!--
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js" integrity="sha384-SR1sx49pcuLnqZUnnPwx6FCym0wLsk5JZuNx2bPPENzswTNFaQU1RDvt3wT4gWFG" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.min.js" integrity="sha384-j0CNLUeiqtyaRmlzUHCPZ+Gy5fQu0dQ6eZ/xAww941Ai1SxSY+0EQqNXNE6DZiVc" crossorigin="anonymous"></script>
        -->

        <script>
                const scriptURL = 'https://script.google.com/macros/s/AKfycbziJ7HTAai8XV_zZU8Dbhyo2BGqPaCjaLHIiw3xp4iI6dS7xwkbyeVanL4hM4IlNrJJoQ/exec'
                const form = document.forms['stay-touch'];
                const btnKirim = document.querySelector('.btn-kirim');
                const btnLoading = document.querySelector('.btn-loading');
                const myAlert = document.querySelector('.my-alert');


                form.addEventListener('submit', e => {
                e.preventDefault()

                btnLoading.classList.toggle('d-none');
                btnKirim.classList.toggle('d-none');

                fetch(scriptURL, { method: 'POST', body: new FormData(form)})
                    .then(response => {
                        btnLoading.classList.toggle('d-none');
                        btnKirim.classList.toggle('d-none');

                        //Menampilkan alert
                        myAlert.classList.toggle('d-none');

                        //reset isi dari form
                        form.reset();
                        console.log('Success!', response)
                    
                    })
                    .catch(error => console.error('Error!', error.message))
                })
        </script>

    </body>
</html>